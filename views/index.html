{{extend './_layouts/home.html'}}

{{block 'title'}}{{'博客首页'}}{{/block}}

{{block 'head'}} 
<link rel="stylesheet" type="text/css" href="../public/css/commen.css" />
<link rel="stylesheet" type="text/css" href="../public/css/style.css" />
<link rel="stylesheet" type="text/css" href="../public/css/shell.css" />
<script>
  window.onload = function(){
      
      let timer = setInterval(get_pre,3000)

      let sz = new Array();
      var cur_ul = document.getElementById("banner");
      for(let i = 1; i<=3;i++){
          let len = sz.length-1;
          var cur_li = document.createElement("li");
          var cur_img = document.createElement("img");

          cur_img.src = "../public/img/" + i +".jpg";
          
          cur_img.style.width = "600px";
          cur_img.style.height = "300px";
          cur_li.appendChild(cur_img);
          cur_ul.appendChild(cur_li);
          sz.push(cur_li)
          sz[sz.length-1].style.left = "0px";
      }
      let len = sz.length-1;
      sz[len-2].style.left = "0px";
      sz[len-1].style.zIndex = 100;
      sz[len-1].style.left = "300px";
      sz[len-1].style.transform = "scale(1.3)";
      sz[len].style.left = "600px";

      function get_next(){
      let give_up  = sz[0];
      sz.splice(0,1);
      sz.push(give_up);

      for(let i= 0;i<sz.length;i++){
          sz[i].style.zIndex = i;
          sz[i].style.transform= "scale(1)";
      }
      sz[len-2].style.left = "0px";
      sz[len-1].style.zIndex = 100;
      sz[len-1].style.left = "300px";
      sz[len-1].style.transform = "scale(1.3)";
      sz[len-1].style.opacity= 1;
      sz[len].style.left = "600px";
      }

      function get_pre(){
      let give_up  = sz[len];
      sz.pop();
      sz.unshift(give_up);

      for(let i= 0;i<sz.length;i++){
          sz[i].style.zIndex = i;
          sz[i].style.transform= "scale(1)";
      }
      sz[len-2].style.left = "0px";
      sz[len-1].style.zIndex = 100;
      sz[len-1].style.left = "300px";
      sz[len-1].style.transform = "scale(1.3)";
      sz[len-1].style.opacity= 1;
      sz[len].style.left = "600px";
      }


      let pre_img = document.getElementById("pre_img")
        pre_img.src = "../public/img/preImg.png";
        pre_img.style.margin = "auto"
        pre_img.style.zIndex = 100;


        let nex_img = document.getElementById("nex_img")
        nex_img.src = "../public/img/nexImg.png";
        nex_img.style.zIndex = 100;
        // cur_ul.appendChild(nex_img);

        let nex_min = document.getElementsByClassName("min")
        nex_img.style.zIndex = 101;

        pre_img.onclick = function () {
            clearInterval(timer);
            get_next();
            timer = setInterval(get_pre, 3000)
        }

        nex_img.onclick = function () {
            clearInterval(timer);
            get_pre();
            timer = setInterval(get_pre, 3000)
        }
  }
  
</script>
{{/block}}

{{block 'body'}}
<div id="shell">
  <ul id="banner">
    <a id="pre_div"><img src="" id="pre_img" alt=""></a>
    <a id="nex_div"><img src="" id="nex_img" alt=""></a>
    
  </ul>
</div>


<div class="container mt-5 banxin">
<h2 class="mb-4" id="hott">热门推荐</h2>
<div class="card">
  <img src="../public/img/8.jpg" width="253px" height="131px" class="card-img-top" alt="...">
  <div class="card-body">
      <h5 class="card-title">乌克兰终于“造反”了</h5>
      <p class="card-text"><small class="text-muted">2022-2-24 20:14:52</small></p>
      <p class="card-text">大国博弈，小国为棋</p>
  </div>
  <div class="card-footer bg-white border-0">
      <a href="/blog?id=627cde4878f6ad49b440ea71" class="btn  float-right stretched-link">查看详情</a>
  </div>
</div>
<div class="card">
  <img src="../public/img/9.jpg" width="253px" height="131px" class="card-img-top" alt="...">
  <div class="card-body">
      <h5 class="card-title">美国为了“困住”俄罗斯</h5>
      <p class="card-text"><small class="text-muted">2022-2-24 20:14:52</small></p>
      <p class="card-text">完全不顾乌克兰的安危</p>
  </div>
  <div class="card-footer bg-white border-0">
      <a href="/blog?id=627cded078f6ad49b440ea73" class="btn  float-right stretched-link">查看详情</a>
  </div>
</div>
<div class="card">
  <img src="../public/img/10.jpg" width="253px" height="131px" class="card-img-top" alt="...">
  <div class="card-body">
      <h5 class="card-title">总统办公室喊话：赶紧回国</h5>
      <p class="card-text"><small class="text-muted">2022-2-24 20:14:52</small></p>
      <p class="card-text">最富有的一批人正“逃离”乌克兰</p>
  </div>
  <div class="card-footer bg-white border-0">
      <a href="/blog?id=627ce10d78f6ad49b440ea77" class="btn  float-right stretched-link">查看详情</a>
  </div>
</div>
<div class="card">
  <img src="../public/img/11.jpg" width="253px" height="131px" class="card-img-top" alt="...">
  <div class="card-body">
      <h5 class="card-title">乌总统泽连斯基发言</h5>
      <p class="card-text"><small class="text-muted">2022-2-24 20:14:52</small></p>
      <p class="card-text">要求相关媒体“提供更多的证据”</p>
  </div>
  <div class="card-footer bg-white border-0">
      <a href="/blog?id=627cde9478f6ad49b440ea72" class="btn  float-right stretched-link">查看详情</a>
  </div>
</div>
</div>
</div>

<div class="container mt-5 banxin">
  <h2 class="mb-4" id="hott">最新博客</h2>
  <div class="card">
    <img src="../public/img/4.jpg" width="253px" height="131px" class="card-img-top" alt="...">
    <div class="card-body">
        <h5 class="card-title">冬奥会吉祥物冰墩墩</h5>
        <p class="card-text"><small class="text-muted">2022-2-24 20:14:52</small></p>
        <p class="card-text">冬奥会吉祥物冰墩墩</p>
    </div>
    <div class="card-footer bg-white border-0">
        <a href="/blog1" class="btn  float-right stretched-link">查看详情</a>
    </div>
  </div>
  {{ each Blogs}}
  <div class="card">
    <img src="../public/upload/{{$value.img}}" width="253px" height="131px" class="card-img-top" alt="...">
    <div class="card-body">
        <h5 class="card-title">{{$value.title}}</h5>
        <p class="card-text"><small class="text-muted">{{$value.created_time}}</small></p>
        <p class="card-text"></p>
    </div>
    <div class="card-footer bg-white border-0">
        <a href="/blog?id={{$value._id}}" class="btn  float-right stretched-link">查看详情</a>
    </div>
  </div>
  {{ /each }}
</div>

<section class="container banxin" id="downway">
  <h2 class="mb-4">最新评论</h2>
  <ul class="media-list">
    {{ each tops}}
    <li class="media">
      <div class="media-left">
        <a href="#">
            <img width="40" height="40" class="media-object" src="../public/img/avatar-default.png" alt="...">
        </a>
      </div>
      <div class="media-body">
        <h2 class="media-heading"><a href="/blog?id={{$value.articleId}}">{{$value.comments}}</a></h2>
        <p>{{$value.created_time}}</p>
        
      </div>
    </li>
    {{ /each }}
  </ul>
  <nav aria-label="Page navigation">
    <ul class="pagination">
      <li>
        <a href="#" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
      </li>
      <li class="active"><a href="#">1</a></li>
      <li><a href="#">2</a></li>
      <li><a href="#">3</a></li>
      <li><a href="#">4</a></li>
      <li><a href="#">5</a></li>
      <li>
        <a href="#" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
      </a>
      </li>
    </ul>
  </nav>
</section>
{{/block}}
